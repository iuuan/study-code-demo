<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
    <ul id="list">
      <li class="on">1</li>
      <li class="select">2</li>
      <li class="on">3</li>
      <li>4</li>
    </ul>
    <p class="on">class为on的p标签</p>
</body>
</html>
<script type="text/javascript">
  window.onload=function(){
     var len1= getByClass('on','list');
     alert(len1.length);  // 结果等于2为正确
     var len2= getByClass('on');
     alert(len2.length);  // 结果等于3为正确
} 
function getByClass(clsName, parent){
 //定义函数getByClass()实现获取document或指定父元素下所有class为on的元素  
     var oP = parent?document.getElementById(parent):document;//此处传入的参数parent不加引号表示传入的参数，如果添加了引号就变成了id为parent的元素了
         oArr = new Array(); 
         o = oP.getElementsByTagName("*");
        for(i=0;i<o.length;i++){
           if(o[i].className==clsName){
               oArr.push(o[i]);
           }  
        } 
     return oArr;
}
</script>